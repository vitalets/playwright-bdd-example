"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.preProcessReport = preProcessReport;
var _fs = _interopRequireDefault(require("fs"));
var _logger = require("./../../utils/logger");
var _path = _interopRequireDefault(require("path"));
const htmlFilePath = _path.default.resolve(process.cwd(), 'uat', 'playwright-report', 'index.html');
const fileHtml = _fs.default.readFileSync(htmlFilePath, 'utf-8');
const addOnHtml = _fs.default.readFileSync(_path.default.resolve(__filename, '../', 'addonScript.html'), 'utf-8');
const splitedHTML = fileHtml.split('\n');
const toAdd = addOnHtml.split('\n');
function preProcessReport() {
  if (_fs.default.existsSync(htmlFilePath)) {
    const modifiedContent = [...splitedHTML.slice(0, 55), ...toAdd, ...splitedHTML.slice(56)].join('').toString();
    _fs.default.writeFileSync(htmlFilePath, modifiedContent);
    return;
  } else {
    _logger.Logger.log(_logger.Logger.FAILURE_TYPE, 'Report is not generated Properly ...');
  }
  return null;
}